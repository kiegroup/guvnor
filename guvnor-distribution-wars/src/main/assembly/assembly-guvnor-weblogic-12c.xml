<?xml version="1.0" encoding="UTF-8"?>
<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">

  <id>weblogic-12c</id>
  <formats>
    <format>war</format>
  </formats>

  <includeBaseDirectory>false</includeBaseDirectory>
  <fileSets>
    <fileSet>
      <directory>${project.basedir}/src/main/resources/weblogic_12</directory>
      <outputDirectory>WEB-INF</outputDirectory>
      <includes>
        <include>**/weblogic.xml</include>
      </includes>
    </fileSet>
    <fileSet>
      <directory>${project.basedir}/src/main/resources/weblogic_12</directory>
      <outputDirectory>WEB-INF/classes</outputDirectory>
      <includes>
        <include>**/guvnor-bootstrap.properties</include>
      </includes>
    </fileSet>
    <!--fileSet>
      <directory>${project.build.directory}/config-processor-filtered/weblogic-12</directory>
      <outputDirectory/>
    </fileSet-->
  </fileSets>
  <dependencySets>
    <dependencySet>
      <includes>
        <include>org.drools:guvnor-webapp-drools:war</include>
      </includes>
      <outputDirectory>.</outputDirectory>
      <unpack>true</unpack>
      <unpackOptions>
        <excludes>
          <!-- Generated by the maven-config-processor-plugin -->
          <!--exclude>WEB-INF/web.xml</exclude-->
          <!-- Removes all JARs already there in weblogic 12 -->
          <exclude>WEB-INF/lib/activation-*.jar</exclude>
          <exclude>WEB-INF/lib/cdi-api-*.jar</exclude>
          <exclude>WEB-INF/lib/ejb-api-*.jar</exclude>
          <exclude>WEB-INF/lib/geronimo-stax-api_*.jar</exclude>
          <exclude>WEB-INF/lib/hibernate-jpa-2.0-api-*.jar</exclude>
          <exclude>WEB-INF/lib/jaxrs-api-*.jar</exclude>
          <exclude>WEB-INF/lib/javassist-*.jar</exclude>
          <exclude>WEB-INF/lib/jboss-interceptors-api_*.jar</exclude>
          <exclude>WEB-INF/lib/jboss-servlet-api_*.jar</exclude>
          <exclude>WEB-INF/lib/jsf-api-*.jar</exclude>
          <exclude>WEB-INF/lib/jsr250-api-*.jar</exclude>
          <exclude>WEB-INF/lib/jsr311-api-*.jar</exclude>
          <exclude>WEB-INF/lib/jta-*.jar</exclude>
          <exclude>WEB-INF/lib/resteasy-cdi-*.jar</exclude>
          <exclude>WEB-INF/lib/stax-api-*.jar</exclude>
          <exclude>WEB-INF/lib/validation-api-*.jar</exclude>
          <exclude>WEB-INF/lib/weld-api-*.jar</exclude>
          <exclude>WEB-INF/lib/weld-core-*.jar</exclude>
          <exclude>WEB-INF/lib/weld-spi-*.jar</exclude>
        </excludes>
      </unpackOptions>
      <useStrictFiltering>true</useStrictFiltering>
    </dependencySet>
  </dependencySets>

</assembly>
